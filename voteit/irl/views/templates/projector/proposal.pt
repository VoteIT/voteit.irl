<tal:main xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="voteit.irl">

<li tal:define="state_id proposal.get_workflow_state();
                css_class 'listing_block wf-state-%s' % state_id;"
    tal:attributes="class css_class"
    i18n:domain="voteit.irl">
    <div class="controls">
        <div class="control states" tal:define="proposal_url api.resource_url(proposal, request)">
            <a class="icon iconpadding approved" href="${proposal_url}@@projector_state?state=approved"></a>
            <a class="icon iconpadding published" href="${proposal_url}@@projector_state?state=published"></a>
            <a class="icon iconpadding denied" href="${proposal_url}@@projector_state?state=denied"></a>
        </div>
        <a href="#" class="control activate icon iconpadding arrow-left"></a>
        <a href="#" class="control inactivate arrow-right icon-right"></a>
        <span tal:replace="structure api.get_moderator_actions(proposal)" />
        <div class="clear"><!-- --></div>
    </div>

    <div class="proposal_id">#${proposal.get_field_value('aid')}</div>

    <tal:creators tal:replace="structure api.get_creators_info(proposal.creators, portrait=False)">Creators</tal:creators>
    <span class="body" tal:content="structure proposal.title">Title</span>

    <div class="meta">
        <span class="${state_id} icon iconpadding"
              tal:content="api.tstring(state_id.title())">private</span>
    </div>
</li>
</tal:main>
