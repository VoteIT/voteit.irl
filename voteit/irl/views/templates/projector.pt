<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="voteit.irl">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>${context.title} - VoteIT</title>
    <link href="${request.application_url}/static/reset.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/main.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/smoothness/jquery-ui-1.8.16.custom.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" tal:content="structure api.get_js_config_template()">js config code</script>
    <script type="text/javascript" src="${request.application_url}/deform/scripts/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery-ui-1.8.15.custom.min.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery.qtip.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery.easy-confirm-dialog.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/ajax.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('a.activate').live('click', function(event) {
                /* stop form from submitting normally 
                IE might throw an error calling preventDefault(), so use a try/catch block. */
                try { event.preventDefault(); } catch(e) {}
                
                $(this).parents('li').appendTo($('#active'));
            });
             $('a.inactivate').live('click', function(event) {
                /* stop form from submitting normally 
                IE might throw an error calling preventDefault(), so use a try/catch block. */
                try { event.preventDefault(); } catch(e) {}
                
                $(this).parents('li').appendTo($('#inactive'));
            });
        });
    </script>
    <style type="text/css">
        .cogwheel .menu_body {
            right: 18px !important;
        }
        #active .cogwheel {
            display: none;
        }
        #active .inactivate,
        #inactive .activate {
            display: block;
        }
        #active .activate,
        #inactive .inactivate {
            display: none;
        }
        #active .inactivate {
            float: right;
        }
        #inactive .activate {
            float; left;
        }
    </style>
</head>
<body>
    <div class="content_wrapper">
        <h1>${context.title}</h1>
        <div id="proposals" class="col-50-50">
            <div id="active" class="column column-1">
                <h2 i18n:translate="">Processed proposals</h2>
                <ul>
                </ul>
            </div>
            <div id="inactive" class="column column-2">
                <h2 i18n:translate="">All proposals</h2>
                <ul tal:condition="proposals">
                <tal:iterate repeat="proposal proposals" >
                    <li tal:define="state_id proposal.get_workflow_state();
                                    css_class 'listing_block wf-state-%s' % state_id;"
                        tal:attributes="class css_class">
                        
                        <a href="#" class="activate" i18n:translate="">Activate</a>
                        <a href="#" class="inactivate" i18n:translate="">Dectivate</a>
                        
                        <span tal:condition="api.show_moderator_actions" tal:replace="structure api.get_moderator_actions(proposal, request)">
                            Cogwheel menu
                        </span>
                        
                        <tal:creators tal:replace="structure api.get_creators_info(proposal.creators, request, portrait=False)">Creators</tal:creators>
                        <span i18n:translate="">propose</span>:
                        <span class="body" tal:content="structure proposal.title">Title</span>
                        
                        <div class="meta">
                            <span class="wf-state"
                                    tal:content="api.tstring(proposal.current_state_title(request))">private</span>
                        </div>
                        <div class="clear"><!-- --></div>
                    </li>
                </tal:iterate>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
